{"kind":"@import","path":"../calculator.alp"}
{"kind":"@shape","id":"OrchestratorInput","fields":{"operation":"str","input_data":"str"}}
{"kind":"@shape","id":"OrchestratorResult","fields":{"result":"str","operation":"str"}}

{"kind":"@fn","id":"process_operation","in":"OrchestratorInput","out":"OrchestratorResult","@op":[["calc_eval",{"expr":"$in.input_data"},{"as":"calc_result"}],["concat",{"items":["## 🎯 Operation: **","$in.operation","**\n\n","### 🧮 Result\n\n","**Calculation:** `","$calc_result.value","`\n\n","**Expression:** `","$in.input_data","`\n\n","**Status:** ✅ Completed successfully"]},{"as":"formatted_result"}]],"@expect":{"result":"$formatted_result","operation":"$in.operation"}}

{"kind":"@fn","id":"create_orchestrator_ui","in":{},"out":{"launched":"bool"},"@op":[["ui_create",{"title":"🚀 ALP Basic Orchestrator","description":"Multi-operation UI orchestrating ALP's core logic modules"},{"as":"created"}],["ui_add_input",{"name":"operation","type":"dropdown","label":"📋 Choose Operation","options":["Calculator","Math Functions","Advanced Calculations"],"default":"Calculator"},{"as":"op_select"}],["ui_add_input",{"name":"input_data","type":"textbox","label":"📝 Math Expression","lines":3,"default":"2 + 2 * 3","placeholder":"Examples:\n• Basic: 2 + 2 * 3, 10 / 2\n• Functions: sqrt(25), sin(pi/2), log(100)\n• Advanced: 2^10, abs(-5), round(3.14159, 2)"},{"as":"data_input"}],["ui_add_output",{"name":"result","type":"markdown","label":"🎯 Operation Result"},{"as":"output"}],["ui_add_output",{"name":"details","type":"json","label":"📊 Technical Details"},{"as":"details_output"}],["ui_set_handler",{"function":"process_operation","inputs":["operation","input_data"],"outputs":["result","details"]},{"as":"handler"}],["ui_launch",{"port":7861},{"as":"launched"}],["ui_wait",{},{"as":"waited"}]],"@expect":{"launched":"$launched.launched"}}

{"kind":"@flow","edges":[["create_orchestrator_ui",null,{}]]}